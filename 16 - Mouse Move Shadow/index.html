<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Mouse Shadow</title>
</head>

<body>

  <div class="hero">
    <h1 contenteditable>ğŸ”¥WOAH!</h1>
  </div>

  <style>
    html {
      color: black;
      font-family: sans-serif;
    }

    body {
      margin: 0;
    }

    .hero {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: black;
    }

    h1 {
      text-shadow: 10px 10px 0 rgba(0, 0, 0, 1);
      font-size: 100px;
    }
  </style>

  <script>
    /*
      ä»»åŠ¡ç›®æ ‡ï¼šç§»åŠ¨é¼ æ ‡ï¼Œä½¿æ–‡å­—é˜´å½±åŠ¨æ€å˜åŒ–
    */
    const title = document.querySelector('.hero')
    const text = document.querySelector('.hero>h1')

    function shadow(e) {
      const { offsetWidth: width, offsetHeight: height } = title // å£°æ˜å˜é‡widthï¼Œheightå­˜å‚¨å…ƒç´ å®½ï¼Œé«˜
      let { x: x, y: y } = e // å£°æ˜å˜é‡xï¼Œyå­˜å‚¨å½“å‰é¼ æ ‡çš„æ¨ªçºµåæ ‡
      const walk = 100 // å£°æ˜å˜é‡ï¼Œå­˜å‚¨é˜´å½±ç§»åŠ¨èŒƒå›´

      // æ­¤æ—¶å› ä¸ºç›‘å¬çš„æ˜¯çˆ¶çº§å…ƒç´ ï¼Œæ‰€ä»¥å¦‚æœé¼ æ ‡ç§»åŠ¨åˆ°å­å…ƒç´ x,yå€¼å¯èƒ½ä¼šå½’é›¶
      if (this !== e.target) { // å¦‚æœé¼ æ ‡ç§»åŠ¨åˆ°å­å…ƒç´ ä¸Šï¼Œå°±åœ¨xï¼Œyä¸ŠåŠ ä¸Šå…ƒç´ å®½é«˜ï¼Œä½¿å½“å‰xï¼Œyä¸é¢„æœŸä¸€è‡´
        x += e.target.offsetWidth 
        y += e.target.offsetHeight
      }

      const xWalk = Math.round((x / width * walk) - (walk / 2)) // å£°æ˜å˜é‡ï¼Œä¿å­˜é˜´å½±æ¨ªå‘ç§»åŠ¨è·ç¦»
      const yWalk = Math.round((y / height * walk) - (walk / 2)) // å£°æ˜å˜é‡ï¼Œä¿å­˜é˜´å½±çºµå‘ç§»åŠ¨è·ç¦»

      text.style.textShadow = `
      ${xWalk}px ${yWalk}px 0 rgba(255,0,255,0.7),
      ${xWalk * -1}px ${yWalk}px 0 rgba(0,255,255,0.7),
      ${yWalk}px ${xWalk * -1}px 0 rgba(0,255,0,0.7),
      ${yWalk * -1}px ${xWalk}px 0 rgba(0,0,255,0.7)
      `
    }

    title.addEventListener('mousemove', shadow)
  </script>
</body>

</html>